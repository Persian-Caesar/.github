import fs from "fs";

function readme(repositorise) {
    return `
<p align="center">
  <img src="https://github.com/Persian-Caesar/persian-caesar.github.io/raw/refs/heads/main/assets/favicon.ico" alt="Persian Caesar Logo" width="220"/>
  <br><br>
  <h1>Persian Caesar Team</h1>
  <h3>Ù‚Ø¯Ø±Øª ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒ Ø§ÛŒØ±Ø§Ù†ÛŒ â€” Ø¨Ø±Ø§ÛŒ Ø¬Ù‡Ø§Ù†</h3>
  <p>
    <strong>A passionate Iranian development team</strong> creating high-quality Discord bots, tools, APIs, and web solutions since 2021.<br>
    From advanced ticket systems and music players to arbitrage monitors and custom enterprise bots.
  </p>

  <p>
    <a href="https://github.com/Persian-Caesar"><img src="https://img.shields.io/github/followers/Persian-Caesar?color=FFD700&logo=github&style=for-the-badge" alt="Followers"></a>
    <a href="https://github.com/Persian-Caesar?tab=repositories"><img src="https://img.shields.io/badge/Repositories-10+-6B7280?style=for-the-badge&logo=github" alt="Repos"></a>
    <a href="https://dsc.gg/persian-caesar"><img src="https://img.shields.io/discord/1054814674979409940?color=5865F2&logo=discord&logoColor=white&style=for-the-badge" alt="Development Server"></a>
    <a href="https://dsc.gg/pc-club"><img src="https://img.shields.io/discord/1181764925874507836?color=22C55E&logo=discord&logoColor=white&style=for-the-badge" alt="Community Server"></a>
  </p>
</p>

## ğŸŒŸ About Us

Founded in 2021 by **Sobhan-SRZA (mr.sinre)**, Persian Caesar began as a vision to build powerful, Iranian-rooted open-source tools â€” inspired by resilience, innovation, and community.

We specialize in:

- **Discord Bots** â€” moderation â€¢ tickets â€¢ music â€¢ radio â€¢ fun â€¢ utilities  
- **Custom Client Projects** â€” private enterprise-grade solutions  
- **Packages & APIs** â€” modular, type-safe libraries (TypeScript + JavaScript)  
- **Web & Full-Stack** â€” modern frontends, dashboards, online shops  

> **Core Values**  
> Quality â€¢ Stability â€¢ Persian-first documentation â€¢ Developer support â€¢ Open-source spirit

## ğŸš€ Our Public Projects

Here are our proudly open-source repositories (real-time stats as of February 2026):

| # | Repository | Description | Language | â­ Stars | ğŸ´ Forks | Last Update |
|---|------------|-------------|----------|----------|----------|-------------|
| 1 | **[All-For-One-Bot](https://github.com/Persian-Caesar/All-For-One-Bot)** | Full-featured Discord bot template â€” moderation, utility, entertainment & more | JavaScript | ![Stars](https://img.shields.io/github/stars/Persian-Caesar/All-For-One-Bot?style=flat-square) | ![Forks](https://img.shields.io/github/forks/Persian-Caesar/All-For-One-Bot?style=flat-square) | Nov 2025 |
| 2 | **[Ticker-Boy](https://github.com/Persian-Caesar/Ticker-Boy)** | Advanced ticket system with slash commands, dashboard & easy setup website | JavaScript | ![Stars](https://img.shields.io/github/stars/Persian-Caesar/Ticker-Boy?style=flat-square) | ![Forks](https://img.shields.io/github/forks/Persian-Caesar/Ticker-Boy?style=flat-square) | Nov 2025 |
| 3 | **[Padio](https://github.com/Persian-Caesar/Padio)** | High-quality radio bot â€” streams trending online stations into voice channels | TypeScript | ![Stars](https://img.shields.io/github/stars/Persian-Caesar/Padio?style=flat-square) | ![Forks](https://img.shields.io/github/forks/Persian-Caesar/Padio?style=flat-square) | Nov 2025 |
| 4 | **[Anti-Nuker-Bot](https://github.com/Persian-Caesar/Anti-Nuker-Bot)** | Recovery tool for nuked servers â€” mass unban, cleanup channels/roles | JavaScript | ![Stars](https://img.shields.io/github/stars/Persian-Caesar/Anti-Nuker-Bot?style=flat-square) | ![Forks](https://img.shields.io/github/forks/Persian-Caesar/Anti-Nuker-Bot?style=flat-square) | May 2025 |
| 5 | **[DJ-Boy](https://github.com/Persian-Caesar/DJ-Boy)** | Simple yet powerful music player with custom music channel support | JavaScript | ![Stars](https://img.shields.io/github/stars/Persian-Caesar/DJ-Boy?style=flat-square) | ![Forks](https://img.shields.io/github/forks/Persian-Caesar/DJ-Boy?style=flat-square) | Nov 2025 |
| 6 | **[discord-player](https://github.com/Persian-Caesar/discord-player)** | Lightweight, type-safe music playback module (YouTube, Spotify, etc.) | TypeScript | ![Stars](https://img.shields.io/github/stars/Persian-Caesar/discord-player?style=flat-square) | ![Forks](https://img.shields.io/github/forks/Persian-Caesar/discord-player?style=flat-square) | Oct 2025 |
| 7 | **[hycom-api](https://github.com/Persian-Caesar/hycom-api)** | Clean wrapper & helpers for hycom.ir API | TypeScript | ![Stars](https://img.shields.io/github/stars/Persian-Caesar/hycom-api?style=flat-square) | ![Forks](https://img.shields.io/github/forks/Persian-Caesar/hycom-api?style=flat-square) | Aug 2025 |
| 8 | **[chatbot](https://github.com/Persian-Caesar/chatbot)** | Persian-focused chatbot logic & integration package | TypeScript | ![Stars](https://img.shields.io/github/stars/Persian-Caesar/chatbot?style=flat-square) | ![Forks](https://img.shields.io/github/forks/Persian-Caesar/chatbot?style=flat-square) | May 2025 |

> Many more **private / customer projects** exist (25+), including premium ticket systems, music panels, funding rate arbitrage monitors, Telegram notifiers, file uploaders, MTA:SA status bots, and full-stack shops.

## ğŸ› ï¸ Tech Stack We Master

<div align="center">
  <img src="https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black" alt="JS"/>
  <img src="https://img.shields.io/badge/TypeScript-3178C6?style=for-the-badge&logo=typescript&logoColor=white" alt="TS"/>
  <img src="https://img.shields.io/badge/Node.js-339933?style=for-the-badge&logo=nodedotjs&logoColor=white" alt="Node"/>
  <img src="https://img.shields.io/badge/Discord.js-5865F2?style=for-the-badge&logo=discord&logoColor=white" alt="Discord.js"/>
  <img src="https://img.shields.io/badge/React-61DAFB?style=for-the-badge&logo=react&logoColor=black" alt="React"/>
  <img src="https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=python&logoColor=white" alt="Python"/>
  <img src="https://img.shields.io/badge/HTML5-E34F26?style=for-the-badge&logo=html5&logoColor=white" alt="HTML"/>
  <img src="https://img.shields.io/badge/CSS3-1572B6?style=for-the-badge&logo=css3&logoColor=white" alt="CSS"/>
</div>

## ğŸ“ Connect With Us

<div align="center">
  <a href="https://srza.ir"><img src="https://img.shields.io/badge/Website-srza.ir-26A69A?style=for-the-badge&logo=google-chrome" alt="Website"></a>
  <a href="https://persiancaesar.ir/"><img src="https://img.shields.io/badge/Website-persiancaesar.ir-FFD700?style=for-the-badge&logo=google-chrome" alt="Website"></a>
  <a href="https://github.com/Sobhan-SRZA"><img src="https://img.shields.io/badge/GitHub-Sobhan--SRZA-181717?style=for-the-badge&logo=github" alt="Sobhan-SRZA"></a>
  <a href="https://discord.gg/xh2S2h67UW"><img src="https://img.shields.io/badge/Development%20Server-Invite-5865F2?style=for-the-badge&logo=discord" alt="Dev Server"></a>
  <a href="https://discord.gg/54zDNTAymF"><img src="https://img.shields.io/badge/Community%20Server-Invite-22C55E?style=for-the-badge&logo=discord" alt="PC Club"></a>
  <a href="https://t.me/Sobhan_SRZA"><img src="https://img.shields.io/badge/Telegram-@Sobhan_SRZA-26A69A?style=for-the-badge&logo=telegram" alt="Telegram"></a>
</div>

<br>

<p align="center">
  <strong>Built with â¤ï¸ by Persian Caesar Team</strong><br>
  Â© 2021â€“2026 â€¢ All Rights Reserved
</p>

<p align="center">
  <a href="https://github.com/Persian-Caesar/persian-caesar.github.io">This profile is open-source â†’ Star & contribute!</a>
</p>
    `;
}

async function generateMarkdownTable(repos, imagesPath) {
    const table = [];
    table.push("| # | Repository | Description | Language | â­ Stars | ğŸ´ Forks | Status |");
    table.push("|---|------------|-------------|----------|----------|----------|-------------|");

    let count = 0;
    repos?.forEach((repo) => {
        const access = repo.private ? "Private" : "Public";
        const status = repo.status === "âœ… Done" ? "Finished" : "In Development";
        const langBadges = repo.languages
            ? repo.languages.map(a => {
                const language = encodeURIComponent(a);
                return `![Used ${language}](${imagesPath}/${language.toLowerCase()}.svg)`
            }).join(" ")
            : "`none`";

        const starsBadge = repo.private ? "`none`" : `![Stars](https://img.shields.io/github/stars/${repo.organization ?? repo.owner}/${repo.name}?style=flat-square)`;
        const forksBadge = repo.private ? "`none`" : `![Forks](https://img.shields.io/github/forks/${repo.organization ?? repo.owner}/${repo.name}?style=flat-square)`;

        table.push(`| ${++count} | [${repo.name}](${repo.url}) | \`${(repo.description_en || repo.description)}\` | ${langBadges} | ${starsBadge} | ${forksBadge} | **${access} - ${status}** |`);
    });

    return table.join("\n");
}

async function main() {
    try {
        const check_projects = async () => {
            const fetched = await fetch("https://raw.githubusercontent.com/Sobhan-SRZA/Sobhan-SRZA/refs/heads/main/projects.json")

            return await fetched.json()
        }

        const repos = await check_projects();
        const team_repos = repos.filter(a => a.organization === "Persian-Caesar");
        console.log(`check repositorise size: ${repos.length}`);

        const markdownTable = await generateMarkdownTable(team_repos, "https://raw.githubusercontent.com/Sobhan-SRZA/Sobhan-SRZA/4c697854a80e5e99324c04eb000f7d2cd53737ae/images/");
        fs.writeFileSync("profile/README.md", readme(markdownTable));
        console.log("\n");
        console.log(`loaded repositorise size: ${team_repos.length}`);
        console.log("profile/README.md has successfully created.");
    }

    catch (error) {
        console.error("get an error:", error);
    }
}

void main();
/**
 * @copyright
 * Code by Sobhan-SRZA (mr.sinre) | https://github.com/Sobhan-SRZA
 * Developed for Persian Caesar | https://github.com/Persian-Caesar | https://dsc.gg/persian-caesar
 *
 * If you encounter any issues or need assistance with this code,
 * please make sure to credit "Persian Caesar" in your documentation or communications.
 */
